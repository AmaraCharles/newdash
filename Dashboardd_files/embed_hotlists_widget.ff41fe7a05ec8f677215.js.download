(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[18550,35608,28557,59255],{159255:(t,e,s)=>{"use strict";s.d(e,{default:()=>S});var i=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var s=-1;return t.some((function(t,i){return t[0]===e&&(s=i,!0)})),s}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var s=t(this.__entries__,e),i=this.__entries__[s];return i&&i[1]},e.prototype.set=function(e,s){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=s:this.__entries__.push([e,s])},e.prototype.delete=function(e){var s=this.__entries__,i=t(s,e);~i&&s.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var s=0,i=this.__entries__;s<i.length;s++){var o=i[s];t.call(e,o[1],o[0])}},e}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==s.g&&s.g.Math===Math?s.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var r=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var s=!1,i=!1,o=0;function n(){s&&(s=!1,t()),i&&l()}function r(){a(n)}function l(){var t=Date.now();if(s){if(t-o<2)return;i=!0}else s=!0,i=!1,setTimeout(r,e);o=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,s=e.indexOf(t);~s&&e.splice(s,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),
window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,s=void 0===e?"":e;r.some((function(t){return!!~s.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},g=_(0,0,0,0);function u(t){return parseFloat(t)||0}function p(t){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];return e.reduce((function(e,s){return e+u(t["border-"+s+"-width"])}),0)}function m(t){var e=t.clientWidth,s=t.clientHeight;if(!e&&!s)return g;var i=d(t).getComputedStyle(t),o=function(t){for(var e={},s=0,i=["top","right","bottom","left"];s<i.length;s++){var o=i[s],n=t["padding-"+o];e[o]=u(n)}return e}(i),n=o.left+o.right,a=o.top+o.bottom,r=u(i.width),l=u(i.height);if("border-box"===i.boxSizing&&(Math.round(r+n)!==e&&(r-=p(i,"left","right")+n),Math.round(l+a)!==s&&(l-=p(i,"top","bottom")+a)),!function(t){return t===d(t).document.documentElement}(t)){var h=Math.round(r+n)-e,c=Math.round(l+a)-s;1!==Math.abs(h)&&(r-=h),1!==Math.abs(c)&&(l-=c)}return _(o.left,o.top,r,l)}var f="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function b(t){return o?f(t)?function(t){var e=t.getBBox();return _(0,0,e.width,e.height)}(t):m(t):g}function _(t,e,s,i){return{x:t,y:e,width:s,height:i}}var w=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=b(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),v=function(t,e){var s,i,o,n,a,r,l,h=(i=(s=e).x,o=s.y,n=s.width,a=s.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(r.prototype),c(l,{x:i,y:o,width:n,height:a,top:o,right:i+n,bottom:a+o,left:i}),l);c(this,{target:t,contentRect:h})},y=function(){function t(t,e,s){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=s}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){
if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new w(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new v(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),C="undefined"!=typeof WeakMap?new WeakMap:new i,k=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var s=h.getInstance(),i=new y(e,s,this);C.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){k.prototype[t]=function(){var e;return(e=C.get(this))[t].apply(e,arguments)}}));const S=void 0!==n.ResizeObserver?n.ResizeObserver:k},546556:t=>{t.exports={list:"list-Wz79nL5X list-oxiBYNWm"}},817931:t=>{t.exports={wrap:"wrap-zvBvzNnS",disabled:"disabled-zvBvzNnS",button:"button-zvBvzNnS",title:"title-zvBvzNnS",dropdownWithFlagList:"dropdownWithFlagList-zvBvzNnS",item:"item-zvBvzNnS",selected:"selected-zvBvzNnS",caret:"caret-zvBvzNnS"}},934587:t=>{t.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},774218:(t,e,s)=>{"use strict";s.d(e,{useIsomorphicLayoutEffect:()=>o});var i=s(50959);function o(t,e){("undefined"==typeof window?i.useEffect:i.useLayoutEffect)(t,e)}},444530:(t,e,s)=>{"use strict";s.d(e,{useResizeObserver:()=>r});var i=s(50959),o=s(159255),n=s(774218),a=s(267521);function r(t,e=[]){const{callback:s,ref:r=null}=function(t){return"function"==typeof t?{callback:t}:t}(t),l=(0,i.useRef)(null),h=(0,i.useRef)(s);h.current=s;const c=(0,a.useFunctionalRefObject)(r),d=(0,i.useCallback)((t=>{c(t),null!==l.current&&(l.current.disconnect(),null!==t&&l.current.observe(t))}),[c,l]);return(0,n.useIsomorphicLayoutEffect)((()=>(l.current=new o.default(((t,e)=>{h.current(t,e)})),c.current&&d(c.current),()=>{var t;null===(t=l.current)||void 0===t||t.disconnect()})),[c,...e]),d}},778785:(t,e,s)=>{"use strict";s.d(e,{mobiletouch:()=>o,setClasses:()=>a,touch:()=>n});var i=s(167175);const o=i.mobiletouch,n=i.touch;function a(){
document.documentElement.classList.add(i.touch?"feature-touch":"feature-no-touch",i.mobiletouch?"feature-mobiletouch":"feature-no-mobiletouch")}},735270:(t,e,s)=>{"use strict";s.d(e,{makeAnchorable:()=>n});var i=s(50959);const o={bottom:{attachment:{horizontal:"left",vertical:"top"},targetAttachment:{horizontal:"left",vertical:"bottom"}},top:{attachment:{horizontal:"left",vertical:"bottom"},targetAttachment:{horizontal:"left",vertical:"top"}},topRight:{attachment:{horizontal:"right",vertical:"bottom"},targetAttachment:{horizontal:"right",vertical:"top"}},bottomRight:{attachment:{horizontal:"right",vertical:"top"},targetAttachment:{horizontal:"right",vertical:"bottom"}}};function n(t){var e;return(e=class extends i.PureComponent{render(){const{anchor:e="bottom"}=this.props;return i.createElement(t,{...this.props,attachment:o[e].attachment,targetAttachment:o[e].targetAttachment})}}).displayName="Anchorable Component",e}},416293:(t,e,s)=>{"use strict";s.d(e,{ToolWidgetCaret:()=>l});var i=s(50959),o=s(497754),n=s(83436),a=s(934587),r=s(100578);function l(t){const{dropped:e,className:s}=t;return i.createElement(n.Icon,{className:o(s,a.icon,{[a.dropped]:e}),icon:r})}},500962:(t,e,s)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=s(650690)},695257:(t,e)=>{"use strict";var s=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),u=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function b(t,e,s){this.props=t,this.context=e,this.refs=f,this.updater=s||p}function _(){}function w(t,e,s){this.props=t,this.context=e,this.refs=f,this.updater=s||p}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=b.prototype;var v=w.prototype=new _;v.constructor=w,m(v,b.prototype),v.isPureReactComponent=!0;var y=Array.isArray,C=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var o,n={},a=null,r=null;if(null!=e)for(o in void 0!==e.ref&&(r=e.ref),void 0!==e.key&&(a=""+e.key),e)C.call(e,o)&&!S.hasOwnProperty(o)&&(n[o]=e[o]);var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];n.children=h}
if(t&&t.defaultProps)for(o in l=t.defaultProps)void 0===n[o]&&(n[o]=l[o]);return{$$typeof:s,type:t,key:a,ref:r,props:n,_owner:k.current}}function L(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var T=/\/+/g;function O(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,o,n,a){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var l=!1;if(null===t)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case i:l=!0}}if(l)return a=a(l=t),t=""===n?"."+O(l,0):n,y(a)?(o="",null!=t&&(o=t.replace(T,"$&/")+"/"),M(a,e,o,"",(function(t){return t}))):null!=a&&(L(a)&&(a=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,n=""===n?".":n+":",y(t))for(var h=0;h<t.length;h++){var c=n+O(r=t[h],h);l+=M(r,e,o,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=u&&t[u]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),h=0;!(r=t.next()).done;)l+=M(r=r.value,e,o,c=n+O(r,h++),a);else if("object"===r)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function $(t,e,s){if(null==t)return t;var i=[],o=0;return M(t,i,"","",(function(t){return e.call(s,t,o++)})),i}function x(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var N={current:null},F={transition:null},P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:F,ReactCurrentOwner:k};e.Children={map:$,forEach:function(t,e,s){$(t,(function(){e.apply(this,arguments)}),s)},count:function(t){var e=0;return $(t,(function(){e++})),e},toArray:function(t){return $(t,(function(t){return t}))||[]},only:function(t){if(!L(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=b,e.Fragment=o,e.Profiler=a,e.PureComponent=w,e.StrictMode=n,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,i){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=m({},t.props),n=t.key,a=t.ref,r=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,r=k.current),void 0!==e.key&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)C.call(e,h)&&!S.hasOwnProperty(h)&&(o[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)o.children=i;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:s,type:t.type,
key:n,ref:a,props:o,_owner:r}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=L,e.lazy=function(t){return{$$typeof:g,_payload:{_status:-1,_result:t},_init:x}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=F.transition;F.transition={};try{t()}finally{F.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return N.current.useCallback(t,e)},e.useContext=function(t){return N.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return N.current.useDeferredValue(t)},e.useEffect=function(t,e){return N.current.useEffect(t,e)},e.useId=function(){return N.current.useId()},e.useImperativeHandle=function(t,e,s){return N.current.useImperativeHandle(t,e,s)},e.useInsertionEffect=function(t,e){return N.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return N.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return N.current.useMemo(t,e)},e.useReducer=function(t,e,s){return N.current.useReducer(t,e,s)},e.useRef=function(t){return N.current.useRef(t)},e.useState=function(t){return N.current.useState(t)},e.useSyncExternalStore=function(t,e,s){return N.current.useSyncExternalStore(t,e,s)},e.useTransition=function(){return N.current.useTransition()},e.version="18.2.0"},376111:(t,e,s)=>{"use strict";var i=s(823127),o=s(778785).mobiletouch;!function(t,e,s){function i(i,o){o=o||i+s;var n=t(),a=i+"."+o+"-special-event";function r(e){t(n).each((function(){var s=t(this);this===e.target||s.has(e.target).length||s.triggerHandler(o,[e.target])}))}t.event.special[o]={setup:function(){delete(n=n.add(this)).prevObject,1===n.length&&t(e).bind(a,r)},teardown:function(){delete(n=n.not(this)).prevObject,0===n.length&&t(e).unbind(a)},add:function(t){var e=t.handler;t.handler=function(t,s){t.target=s,e.apply(this,arguments)}}}}t.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),(function(t){i(t)})),i("focusin","focusoutside"),i("focusout","bluroutside"),o&&(i("touchstart","mousedownoutside"),i("touchmove","mousemoveoutside"),i("touchend","mouseupoutside")),t.addOutsideEvent=i}(i,document,"outside")},395254:(t,e,s)=>{"use strict";s(318293),s(424529),s(546322);var i=s(650151),o=(s(730128),s(376111),s(249346),s(79338)),n=s(644142),a=s(791325),r=s(823127);class l{constructor(t,e={}){this.$el=t,this.$wrap=e.$wrap||t.find(".tv-dropdown-behavior__button"),this.$body=e.$body||t.find(".tv-dropdown-behavior__body"),this.notCloseWithCtrl=!!e.notCloseWithCtrl&&e.notCloseWithCtrl,this.closeWithEsc=void 0===e.closeWithEsc||e.closeWithEsc,
this.closeWithEsc&&this.$el.attr("tabIndex",0),(t.data("scroll")||e.scroll)&&(this.$scroll=this.$body.find(".tv-dropdown-behavior__scroll"),this.$inScroll=this.$scroll.find(".tv-dropdown-behavior__inscroll"),this.scroll=new n.SidebarCustomScroll(this.$scroll[0],this.$inScroll[0],{showTopShadow:!1,showBottomShadow:!1}),this.$scrollBar=r(this.scroll.getScrollBar()),this.$scrollBar&&this.$scrollBar.on("mousedown.tv-dropdown-view-scroll",(()=>{this.offClickOutside(),r(document).on("mouseup.tv-dropdown-view-scroll",(()=>{this.onClickOutside(),r(document).off("mouseup.tv-dropdown-view-scroll")}))}))),(t.data("adaptBody")||e.adaptBody)&&(this._adaptBody=!0),(t.data("adaptOnlyInScrollHeight")||e.adaptOnlyInScrollHeight)&&(this._adaptOnlyInScrollHeight=!0),this._fitScreen=t.data("fitScreen")||e.fitScreen,this._maxHeight=t.data("maxHeight")||e.maxHeight,this._dropdownWidth=t.data("dropdownWidth")||e.dropdownWidth,this._boundingElement=e.boundingElement,this.$wrap.add(t.find(".js-dropdown-toggle")).on("click",(t=>{r(t.currentTarget).hasClass("js-prevent-dropdown")||this.toggle()})),this._checkIgnoreClickOutside=[]}toggle(){this.opened?this.close(!0):this.open()}open(){this.opened||this.disabled||this.readonly||(this.$el.trigger("beforeOpenMenu"),this.$body.removeClass("i-hidden").addClass("i-opened"),this.$wrap.addClass("i-dropped"),this.$el.addClass("i-opened"),"horz"===this._fitScreen&&this.fitHorizontally(),this._adaptBody&&this.adaptBody(),this.onClickOutside(),this.$el.trigger("updateScroll"),this.$el.trigger("afterOpenMenu"),this.opened=!0,this.closeWithEsc&&this.$el.on("keypress keyup",(t=>{t.keyCode===a.ESC&&this.close(!0)})))}onClickOutside(){setTimeout((()=>{this.$body.on("clickoutside",(t=>{this._checkIgnoreClickOutside.length&&this._checkIgnoreClickOutside.some((e=>e(t)))||this.close(!0)}))}),0)}offClickOutside(){this.$body.off("clickoutside")}setCheckIgnoreClickOutside(t){this._checkIgnoreClickOutside.push(t)}dropCheckIgnoreClickOutside(t){var e=this._checkIgnoreClickOutside.indexOf(t);-1!==e&&this._checkIgnoreClickOutside.splice(e,1)}close(t=!1){!this.opened||this.disabled||this.readonly||!t&&this.notCloseWithCtrl&&(window.event.ctrlKey||window.event.metaKey)||(this.offClickOutside(),this.$wrap.removeClass("i-dropped"),this.$el.trigger("beforeCloseMenu"),this.$body.removeClass("i-opened").addClass("i-hidden"),this.$el.removeClass("i-opened"),this.closeWithEsc&&this.$el.off("keypress keyup"),this.opened=!1,this.$el.trigger("afterCloseMenu"))}isOpened(){return this.opened}updateScroll(){this.scroll&&(this.scroll.updateScrollBar(),this.scroll.scrollToStart())}enable(){this.$wrap.removeClass("i-disabled"),this.disabled=!1}disable(){this.$wrap.addClass("i-disabled"),this.disabled=!0}setReadonly(t){this.readonly=t}adaptBody(){const t=this.$body,e=this.$wrap.get(0).getBoundingClientRect(),s=this._boundingElement?this._boundingElement.getBoundingClientRect():{top:0,bottom:window.innerHeight,height:window.innerHeight
},i=parseFloat(t.css("padding-top")),o=parseFloat(t.css("padding-bottom")),n=this.$inScroll.outerHeight(!0)+i+o;if(this.scroll&&this.scroll.scrollToStart(),this._adaptOnlyInScrollHeight){const i=t.find(".js-dropdown-dummy"),n=i?parseFloat(i.css("padding-bottom"))+parseFloat(i.css("margin-bottom")):0,a=e.top+e.height+n;return void this.$el.find(".tv-dropdown-behavior__scroll").css("maxHeight",s.bottom-o-a-25)}const a=this._maxHeight||n,r=e.top+a+25<=s.bottom,l=s.top+15+a<=e.bottom;let h,c=this._maxHeight||"auto";if(r)h=-i;else if(l)h=-a+e.height+o;else{h=-e.top+s.top+15;const t=s.height-15-25;a>t&&(c=t)}t.css("top",h),t.height(c),this._dropdownWidth&&t.width(this._dropdownWidth)}fitHorizontally(){this.$body.css("marginLeft",0);const t=document.body.getBoundingClientRect(),e=parseFloat(r(document.body).css("paddingRight")),s=this.$body.offset();s.right=s.left+this.$body.outerWidth();const i=Math.max(Math.min(0,t.right-e-s.right),t.left-s.left);i&&this.$body.css("marginLeft",i)}destroy(){this.scroll&&this.scroll.destroy(),this.offClickOutside(),this.$el.find(".js-dropdown-toggle").off("click"),this.$wrap.off("click")}}r.fn.tvDropdown=(0,o.createTvBlockWithInstance)("tv-dropdown",(function(t,e={}){return new l(t,e)}));var h,c=s(192780),d=s(901107),g=s(185515),u=s(242907),p=s(410899),m=s(596080),f=s(798218),b=s(453290),_=(s(809890),s(29481),s(589679),s(50959)),w=s(500962),v=(s(823127),s(213398),s(777754)),y=s(497754),C=s.n(y),k=s(817931),S=s(400236);!function(t){t.Light="light",t.Dark="dark"}(h||(h={}));var E=s(849204);const L={erl:"EU",uk:"GB",bitcoin:"BTC"};function T(t,e,i=E.LogoSize.Medium){return t?(t.toLowerCase()in L&&(t=L[t]),(0,E.getLogoUrlResolver)().getCountryFlagUrl(t.toUpperCase(),i)):function(t){return t===h.Dark?s(364494):s(102495)}(e)}var O=s(83436),M=s(890756);s(116144);function $(t){const{name:e,className:s,size:i,title:o,alt:n,role:a}=t,r=y(`tv-flag-country tv-flag-country--${e}`,i&&`tv-flag-country--size_${i}`,s);if("forex"===e)return _.createElement(O.Icon,{icon:M,className:r});const l=T(e);return _.createElement("img",{title:o,alt:n,className:r,src:l,role:a})}var x=s(157490),N=s(416293);const F={...s(782536),...s(546556)};class P extends _.PureComponent{constructor(t){super(t),this._horizontalItemPadding=15,this._verticalItemPadding=10,this._verticalListPadding=1,this._onWindowResize=()=>{this.state.isOpened&&this._onMeasure()},this._onMeasure=()=>{const t=this.props.itemHeight*this.props.options.length,e=this._btnEl.getBoundingClientRect(),s=this._getScrollWidth(),i=document.documentElement.clientWidth-e.left-s-10,o=i>this.props.itemWidth,n=this.props.maxHeight?Math.min(Math.ceil(t/this.props.maxHeight),this.props.maxColumns||1,Math.floor(i/this.props.itemWidth)||1):1;let a,r=this.props.itemWidth*n;const l=Math.ceil(this.props.options.length/n)*this.props.itemHeight;o?a=0:(r=document.documentElement.clientWidth-20,this.props.maxHeight&&l>this.props.maxHeight&&(r-=s),a=10-e.left),this.setState({width:r,height:l+2*this._verticalListPadding,left:a,top:"top"===this.props.horizontalAttachment?0:e.height
})},this._onOutsideClick=t=>{this.state.isOpened&&(t.preventDefault(),t.stopPropagation()),this.setState({isOpened:!1})},this._getScrollWidth=()=>{const t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",t.style.visibility="hidden",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},this._toggle=t=>({isOpened:!this.props.disabled&&!t.isOpened,selected:t.selected}),this._onSelect=t=>{t!==this.state.selected?(this.props.onSelect&&this.props.onSelect(this.props.options[t]),this.setState((()=>({isOpened:!1,selected:t})))):this.setState((()=>({isOpened:!1})))},this.state={isOpened:!1,selected:t.initialSelected||0,left:0,top:0}}componentDidMount(){this._btnEl=w.findDOMNode(this._btn),window.addEventListener("resize",(()=>this._onWindowResize()))}render(){const t=y(k.title),e=y(k.button),s=y(k.wrap,{[k.disabled]:!!this.props.disabled}),i=this.props.options[this.state.selected],o=this.props.options.map((e=>({elem:_.createElement("span",{style:{width:this.props.itemWidth-2*this._horizontalItemPadding,height:this.props.itemHeight-2*this._verticalItemPadding}},_.createElement($,{title:e.flagTitle||e.title,name:e.flagId}),_.createElement("span",{className:t},e.title))}))),n=Math.min(this.props.maxHeight||1/0,3*document.documentElement.clientHeight/4),a=this.state.height&&this.state.height>n?n:void 0;return _.createElement(x.OutsideEvent,{handler:this.props.outsideClick||this._onOutsideClick,click:!0},(t=>_.createElement("div",{ref:t,className:s},_.createElement("span",{ref:t=>{this._btn=t},onClick:()=>this.setState(this._toggle),className:e},_.createElement($,{title:i.flagTitle||i.title,name:i.flagId,size:this.props.flagSize}),_.createElement(N.ToolWidgetCaret,{dropped:this.state.isOpened,className:k.caret})),_.createElement(S.DropdownList,{isOpened:this.state.isOpened,selected:this.state.selected,items:o,onSelect:this._onSelect,onMeasure:this._onMeasure,width:this.state.width,height:this.state.height,maxHeight:a,left:this.state.left,top:this.state.top,theme:F,className:k.dropdownWithFlagList,itemsClassName:k.item}))))}}var B=s(305149),j=s(551238),W=s(724377),A=s(745269),D=s(17966),R=s(607546),U=s(647757),H=s(405128),I=s(246733),q=s(503344),z=s(541558),G=s(668616),X=s(327034),V=s(600303),K=s(719240),Q=s(6826),Y=s.n(Q),J=s(606311),Z=s(62802),tt=s(201089),et=s(960116),st=s(894065),it=s(39654),ot=(s(521395),s(383906),s(823127)),nt=s(213398);const at=(0,
tt.getLogger)("WidgetWatchlist"),rt=["symbolActiveColor","symbolShortNameColor","symbolDescriptionColor","symbolSeparatorColor","tabActiveColor","tabInactiveColor","tabSliderColor","changeUpColor","changeDownColor","changeNeutralColor","lastColor","lastGrowingFlashColor","lastFallingFlashColor"],lt=["plotLineColor","plotLineColorGrowing","plotLineColorFalling","gridLineColor","scaleFontColor","belowLineFillColorGrowing","belowLineFillColorFalling","belowLineFillColorGrowingBottom","belowLineFillColorFallingBottom","lastPriceLineColor","lastPriceLineColorGrowing","lastPriceLineColorFalling"];class ht{constructor(t,e){if(this._symbols=[],this._chart=null,this._symbol=null,this._started=!1,this._hasDataPromise=null,t&&t.length||(at.logError("`$el` is required"),(0,i.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.$chart=t.find(".js-chart").eq(0),this.$symbolsWrapper=t.find(".js-symbols-wrapper").eq(0),this.hasChart=!!this.$chart.length,this.settings=this.transferSettings(e),this.showDataMode=!(!1===this.settings.showDataMode),this.showMarketStatus=!(!1===this.settings.showMarketStatus),this.chartColorMap=this.settings.chartColorMap,this.widgetColorClassMap=this.settings.widgetColorClassMap,"hotlists"===this.settings.widgetName||this.settings.isEmbedWidget){this._symbols=this.$el.data("symbols");this.$el.find(".js-symbols-wrapper").find(".js-symbols-body").append(this._renderPage())}this.settings.isEmbedWidget&&this.adjustToAvailableSizes(),this.start()}transferSettings(t){const e=t.utmInfo?ot.param(t.utmInfo):void 0;let s;if(t.largeChartUrl){s=t.largeChartUrl;s.match(/^https?:\/\//)||(s="http://"+s)}return{chartColorMap:Object.assign({},this.defaultChartColors,t.chartColorMap),customer:t.customer,dateRange:t.dateRange,dateRangeOptions:t.dateRangeOptions,disableLastFallingFlash:Boolean(t.disableLastFallingFlash),disableLastGrowingFlash:Boolean(t.disableLastGrowingFlash),hideAbsoluteChange:Boolean(t.hideAbsoluteChange),indexNameBold:t.indexNameBold,indexNonClickable:t.indexNonClickable,isEmbedWidget:t.isEmbedWidget,largeChartUrl:s,noLinks:t.noLinks,onlyDescription:t.onlyDescription,paintLastWithChangeColors:Boolean(t.paintLastWithChangeColors),showDataMode:t.showDataMode,showMarketStatus:t.showMarketStatus,showTitles:t.showTitles,tradingviewBaseUrl:t.tradingviewBaseUrl,utmStringified:e,valueBold:t.valueBold,valueTitleMarked:t.valueTitleMarked,widgetColorClassMap:Object.assign({},t.widgetColorClassMap),widgetName:t.widgetName,showSymbolLogo:t.showSymbolLogo,locale:t.locale,showFloatingTooltip:t.showFloatingTooltip,colorTheme:t.colorTheme}}get $symbols(){return this.$el.find(".js-quote-ticker")}set symbols(t){let e,s;const i=this._symbols.map((t=>t.s)),o=t.map((t=>t.s)),n=(t,s)=>ot(s).data("symbol")===e;if(i&&i.toString()!==o.toString()){const a={},r=[],l=[];for(let t=0;t<i.length;t++){e=i[t];const l=o.indexOf(e),h=t,c=this.$symbols.filter(n);l!==h&&r.push(e),-1===l?(this._stopSymbolRow(c),this._symbol===e&&(s=o[h])):a[e]=c.detach()}const h=this.$el.find(".js-symbols-wrapper").find(".js-symbols-body")
;h.empty(),this.settings.showTitles&&h.append(this._renderTitle()),o.forEach((t=>{t in a?h.append(a[t]):(r.push(t),l.push(t),this._renderSymbol({s:t})),s&&s===t&&(this.symbol=s)})),this._symbols=t,this.$symbols.each(((t,e)=>{const s=ot(e),i=s.data("symbol");-1!==r.indexOf(i)&&(s.addClass("tv-site-table__row--updated"),setTimeout((()=>s.removeClass("tv-site-table__row--updated")),2*A.dur)),-1!==l.indexOf(i)&&this._startSymbolRow(s)}))}}get defaultChartColors(){return{gridLineColor:(0,I.generateColor)(j.colorsPalette["color-widget-border"],100),scaleFontColor:(0,I.generateColor)(j.colorsPalette["color-text-secondary"]),plotLineColor:(0,I.generateColor)(j.colorsPalette["color-brand"]),plotLineColorGrowing:void 0,plotLineColorFalling:void 0,belowLineFillColorGrowing:(0,I.generateColor)(j.colorsPalette["color-tv-blue-500"],82),belowLineFillColorFalling:(0,I.generateColor)(j.colorsPalette["color-tv-blue-500"],82),belowLineFillColorGrowingBottom:(0,I.generateColor)(j.colorsPalette["color-tv-blue-500"],100),belowLineFillColorFallingBottom:(0,I.generateColor)(j.colorsPalette["color-tv-blue-500"],100),lastPriceLineColor:(0,I.generateColor)(j.colorsPalette["color-brand"],50),lastPriceLineColorGrowing:void 0,lastPriceLineColorFalling:void 0}}get pageTemplates(){return{page:"\n\t\t\t\t{{#showTitles}}\n\t\t\t\t\t{{>title}}\n\t\t\t\t{{/showTitles}}\n\t\t\t\t{{#symbols}}\n\t\t\t\t\t{{>symbol}}\n\t\t\t\t{{/symbols}}",symbol:`\n\t\t\t\t<div class="tv-widget-watch-list__row js-quote-ticker tv-site-table__row {{#showChart}} tv-site-table__row--interactive tv-widget-watch-list__row--interactive{{/showChart}}{{#updated}} tv-site-table__row--updated{{/updated}}" data-symbol="{{ s }}" data-description="{{ description }}">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__icon js-symbol-logo">\n\t\t\t\t\t\t\t${this.settings.showSymbolLogo&&(0,D.getCircleLogoAnyHtml)({logoUrls:[],size:"medium"
})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__ticker">\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref="{{^largeChartUrl}}{{ symbolUrl }}{{/largeChartUrl}}{{#largeChartUrl}}{{ largeChartUrl }}{{/largeChartUrl}}"\n\t\t\t\t\t\t\t\t\t\t{{#isEmbedWidget}}target="_blank"{{/isEmbedWidget}}\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\tdata-symbol="{{ s }}"\n\t\t\t\t\t\t\t\t\t\tclass="\n\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name\n\t\t\t\t\t\t\t\t\t\t\tapply-overflow-tooltip\n\t\t\t\t\t\t\t\t\t\t\tjs-symbol-link\n\t\t\t\t\t\t\t\t\t\t\t{{#indexNameBold}}tv-widget-watch-list__short-name--bold{{/indexNameBold}}\n\t\t\t\t\t\t\t\t\t\t\t{{#noLinks}}tv-widget-watch-list__short-name--not-clickable{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name--whole-height\n\t\t\t\t\t\t\t\t\t\t\t\t{{^description}}js-symbol-description-name{{/description}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#descriptionClass}}{{descriptionClass}}{{/descriptionClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#shortNameClass}}{{shortNameClass}}{{/shortNameClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}{{ shortName }}{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}\n\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#showDataMode}}\n\t\t\t\t\t\t\t\t\t<span class="tv-data-mode--watch-list js-data-mode"></span>\n\t\t\t\t\t\t\t\t{{/showDataMode}}\n\t\t\t\t\t\t\t\t{{#showMarketStatus}}\n\t\t\t\t\t\t\t\t\t<span class="tv-market-status--watch-list js-market-status"></span>\n\t\t\t\t\t\t\t\t{{/showMarketStatus}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class="tv-widget-watch-list__description{{^isEmbedWidget}} tv-widget-watch-list__description--uppercase{{/isEmbedWidget}} apply-overflow-tooltip{{^description}} js-symbol-description-name{{/description}}{{#descriptionClass}} {{descriptionClass}}{{/descriptionClass}}">\n\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}{{^description}}&nbsp;{{/description}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last-wrap">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__last{{#valueBold}} tv-widget-watch-list__last--bold{{/valueBold}}{{#lastClass}} {{lastClass}}{{/lastClass}}{{#lastDirection}} js-symbol-change-direction{{/lastDirection}} js-symbol-last apply-overflow-tooltip">\n\t\t\t\t\t\t\t\t{{#last}}{{ last }}{{/last}}{{^last}}&nbsp;{{/last}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change{{#hideAbsoluteChange}} tv-widget-watch-list__change--whole-height{{/hideAbsoluteChange}} apply-overflow-tooltip js-symbol-change-direction">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline{{#hideAbsoluteChange}} tv-widget-watch-list__change-inline--whole-height{{/hideAbsoluteChange}} js-symbol-change-pt">\n\t\t\t\t\t\t\t\t{{#change_pt}}{{ change_pt }}{{/change_pt}}{{^change_pt}}&nbsp;{{/change_pt}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{^hideAbsoluteChange}}\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline js-symbol-change">\n\t\t\t\t\t\t\t\t{{#change}}{{ change }}{{/change}}{{^change}}&nbsp;{{/change}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/hideAbsoluteChange}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`,
title:'\n\t\t\t\t<div class="tv-site-table__row js-symbols-titles">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column tv-widget-watch-list__main-column--title">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__title tv-widget-watch-list__short-name--whole-height apply-overflow-tooltip">Index</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-widget-watch-list__quote-column--title tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last apply-overflow-tooltip tv-widget-watch-list__title">\n\t\t\t\t\t\t\tValue{{#valueTitleMarked}}*{{/valueTitleMarked}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change tv-widget-watch-list__title apply-overflow-tooltip">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline">Change</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'}}set symbol(t){if(this._symbol=t,this._chart&&this._chart.changeSymbol(t,this._getSeriesOptions()),this.hasChart){const e=C()("tv-site-table__row--highlighted tv-widget-watch-list__row--highlighted",this.widgetColorClassMap.symbolActiveColor);this.$symbols.removeClass(e).filter(((e,s)=>ot(s).data("symbol")===t)).addClass(e)}else this.$symbols.filter(((e,s)=>ot(s).data("symbol")===t))}get symbol(){return this._symbol||""}start(){this._started||(this.symbol||(this.symbol=this.$symbols.eq(0).data("symbol")),this.hasChart&&(this._bindSymbolClick(),this._startChart()),this._startSymbolRows(),this._started=!0)}stop(){this._started&&(this._unbindSymbolClick(),this._stopChart(),this._stopSymbolRows(),this._started=!1)}hasData(){if(null===this._hasDataPromise){const t=[];this.$symbols.each(((e,s)=>{const i=ot(s).data("watchlist-widget__symbol-row");t.push(i.hasData())})),this._hasDataPromise=Promise.all(t).then((t=>t.some((t=>t))))}return this._hasDataPromise}adjustToAvailableSizes(){var t;const e=(0,i.ensureNotNull)(document.querySelector(".js-watchlist-widget")),s=(0,i.ensureNotNull)(document.querySelector(".js-quote-ticker"));let o=(0,i.ensureNotNull)(e.parentElement).offsetHeight-e.offsetHeight,n=this.hasChart?this.$chart[0].offsetHeight:0,a=this.$symbolsWrapper[0].offsetHeight,r=this.$symbolsWrapper[0].scrollHeight-a;if(0===o&&0===r)return;const l=s.offsetHeight;let h=0;o>0&&r>0?h=Math.min(r,o/2):o<0&&(h=this.hasChart?Math.max(Math.floor(o/2),l-a):o),a+=h,r-=h,o-=h,this.hasChart&&(n+=o,o=0),this.hasChart&&r>0&&r<Math.floor(n/4)&&(n-=r,a+=r),this.hasChart&&n<100&&(a-=100-n,n=100),this.$symbolsWrapper[0].style.height=a+"px",this.hasChart&&(this.$chart[0].style.height=n+"px",null===(t=this._chart)||void 0===t||t.resizeByContainer())}_bindSymbolClick(){this.$el.on("click",".js-quote-ticker",(t=>{this.symbol=ot(t.currentTarget).data("symbol")}))}_unbindSymbolClick(){this.$el.off("click",".js-quote-ticker")}_getSymbolDataToRender(t){
const[e,s]=t.s.split(":"),i=t.t||s,o=this.settings.largeChartUrl&&(0,q.makeTemplateSymbolUrl)(this.settings.largeChartUrl,{shortName:s,exchange:e})||"",n=(0,q.makeSymbolPageUrl)({shortName:s,exchange:e},this.settings.utmInfo),a=t.d;return{s:t.s,description:a,exchange:e,shortName:i,symbolUrl:n,showChart:this.hasChart,onlyDescription:this.settings.onlyDescription,isEmbedWidget:this.settings.isEmbedWidget,utmStringified:this.settings.utmStringified,largeChartUrl:o,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,indexNameBold:this.settings.indexNameBold,valueBold:this.settings.valueBold,shortNameClass:this.widgetColorClassMap.symbolShortNameColor,descriptionClass:this.widgetColorClassMap.symbolDescriptionColor,symbolColumnClass:this.widgetColorClassMap.symbolSeparatorColor,lastClass:this.widgetColorClassMap.lastColor,lastDirection:this.settings.paintLastWithChangeColors,hideAbsoluteChange:this.settings.hideAbsoluteChange,noLinks:this.settings.noLinks}}_renderSymbol(t){return nt.render(this.pageTemplates.symbol,this._getSymbolDataToRender(t))}_renderPage(){const t=[];return this._symbols.forEach((e=>t.push(this._getSymbolDataToRender(e)))),nt.render(this.pageTemplates.page,{symbols:t,showTitles:this.settings.showTitles,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,valueTitleMarked:this.settings.valueTitleMarked},this.pageTemplates)}_renderTitle(){return nt.render(this.pageTemplates.title,{valueTitleMarked:this.settings.valueTitleMarked})}_startChart(){if(this._chart)return void this._chart.enable();if(!this.symbol)return;const t=this.settings.showFloatingTooltip,e=this._getSeriesOptions();let s;if(t){const t="dark"===this.settings.colorTheme?j.colorsPalette["color-cold-gray-700"]:j.colorsPalette["color-cold-gray-200"];s={vertLine:{visible:!0,style:st.LineStyle.Solid,width:1,color:t},mode:st.CrosshairMode.Magnet}}this._chart=new G.LightweightMiniChart({symbol:this.symbol},this.$chart.get(0),null,{timeframe:{visible:!0,container:this.$el.find(".js-timeframes").get(0),value:this.settings.dateRange,options:this.settings.dateRangeOptions},valuesTracking:t?"1":"0",chartOptions:{minWidth:this.$chart.width(),minHeight:this.$chart.height(),chart:{grid:{horzLines:{visible:!0,color:this.chartColorMap.gridLineColor,style:st.LineStyle.Dotted}},crosshair:s,layout:{textColor:this.chartColorMap.scaleFontColor,fontSize:12},localization:{locale:(0,it.getIsoLanguageCodeFromLanguage)(this.settings.locale)},rightPriceScale:{visible:!1}},series:e,loading:{spinner:{visible:!0}}}})}_stopChart(){this._chart&&this._chart.disable()}_getSeriesOptions(){return{chartType:"area",lineColor:this.chartColorMap.plotLineColor,growingLineColor:this.chartColorMap.plotLineColorGrowing,fallingLineColor:this.chartColorMap.plotLineColorFalling,lineWidth:2,growingTopColor:this.chartColorMap.belowLineFillColorGrowing,fallingTopColor:this.chartColorMap.belowLineFillColorFalling,growingBottomColor:this.chartColorMap.belowLineFillColorGrowingBottom,
fallingBottomColor:this.chartColorMap.belowLineFillColorFallingBottom,crosshairMarkerVisible:this.settings.showFloatingTooltip,crosshairMarkerRadius:3.5,crosshairMarkerBorderColor:"dark"===this.settings.colorTheme?j.colorsPalette["color-cold-gray-850"]:j.colorsPalette["color-white"],scaleMargins:{top:.01,bottom:.05}}}_startSymbolRows(){this.$symbols.each(((t,e)=>{this._startSymbolRow(ot(e))}))}_startSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e?e.start():t.data("watchlist-widget__symbol-row",new ct(t,{tradingviewBaseUrl:this.settings.tradingviewBaseUrl,largeChartUrl:this.settings.largeChartUrl,isEmbedWidget:this.settings.isEmbedWidget,directionUpClass:this.widgetColorClassMap.changeUpColor,directionDownClass:this.widgetColorClassMap.changeDownColor,directionNeutralClass:this.widgetColorClassMap.changeNeutralColor,lastGrowingClass:this.settings.disableLastGrowingFlash?null:this.widgetColorClassMap.lastGrowingFlashColor,lastFallingClass:this.settings.disableLastFallingFlash?null:this.widgetColorClassMap.lastFallingFlashColor,noLinks:this.settings.noLinks,showSymbolLogo:this.settings.showSymbolLogo}))}_stopSymbolRows(){this.$symbols.each(((t,e)=>{this._stopSymbolRow(ot(e))}))}_stopSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e&&e.stop()}}class ct{constructor(t,e){this._hasData=new(Y()),this._setSymbolLinkCompleted=!1,t&&t.length||(at.logError("`$el` is required"),(0,i.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.symbol=t.data("symbol"),this.description=t.data("description"),this.start(),this._largeChartUrl=e.largeChartUrl||"",this._utmInfo=e.utmInfo||{},this._isEmbedWidget=!!e.isEmbedWidget,this._noLinks=e.noLinks,this._showSymbolLogo=e.showSymbolLogo;const s=(0,u.pickFields)(e,["directionUpClass","directionDownClass","directionNeutralClass","lastGrowingClass","lastFallingClass"]);this._directionUpClass=s.directionUpClass,this._directionDownClass=s.directionDownClass,this._directionNeutralClass=s.directionNeutralClass,this._lastGrowingClass=s.lastGrowingClass,this._lastFallingClass=s.lastFallingClass,this._setSymbolLogo=(0,R.getLogoUrlsHook)((t=>{const e=this.symbol.split(":")[1],s=(this.description||e||"")[0];(0,i.ensureNotNull)(this.$el[0].querySelector(".js-symbol-logo")).innerHTML=(0,D.getCircleLogoAnyHtml)({logoUrls:t,size:"medium",placeholderLetter:s})}))}start(){this._startQuoteTicker().then((()=>{this._startMarketStatus()})).catch((t=>at.logError(`${t.exchange} ${t.reason}`)))}stop(){this._stopQuoteTicker(),this._stopMarketStatus()}hasData(){return void 0===this._hasData.value()?new Promise((t=>{this._hasData.subscribe(t,{once:!0})})):Promise.resolve(this._hasData.value())}_startMarketStatus(){if(this.$el.find(".js-market-status")[0]){const t=new V.MarketStatusIndicator({classSuffix:"--for-watch-list",el:this.$el.find(".js-market-status")[0],short:!0,symbol:this.symbol});t.start(),this.$el.data("market-status",t)}const t=this.$el.find(".js-data-mode")[0];if(t){const e=new K.DataModeIndicator({classSuffix:"--for-watch-list",el:t,short:!0,symbol:this.symbol})
;e.start(),this.$el.data("data-mode",e)}}_stopMarketStatus(){const t=this.$el.data("market-status"),e=this.$el.data("data-mode");t&&t.stop(),e&&e.stop()}_showSFWarning(){var t;const e=this.$el.get(0);if(e.getElementsByClassName("js-exclamationed-symbol").length)return;const s=document.createElement("span");s.classList.add("tv-widget-watch-list__symbol-exclamation-mark","js-exclamationed-symbol","apply-common-tooltip"),s.setAttribute("title",(0,H.getWarningTextForFreeUsers)());const o=e.getElementsByClassName("js-symbol-link").item(0);o&&(o.appendChild(s),null===(t=window.loginStateChange)||void 0===t||t.subscribe(null,(()=>{if(window.is_authenticated){const t=e.getElementsByClassName("js-exclamationed-symbol");for(;t.length>0;)(0,i.ensureNotNull)(t[0].parentNode).removeChild(t[0])}})))}_startQuoteTicker(){let t=this.$el.data("quote-ticker");if(t)return t.enable(),Promise.resolve(t);const e=this._showSFWarning.bind(this),s=(t,e,s)=>{this._setSymbolLinkCompleted||this._noLinks||this._setSymbolLink(t),this._showSymbolLogo&&this._setSymbolLogo(t,e,s)};return new Promise(((i,o)=>{(0,U.check)(this.symbol,!1).then((o=>{const n={dontDyePrice:!0,addDescriptionTitle:!1,signPositive:!0,changePercentInBrackets:!1,setStateHook:s,changeDirectionUpClass:this._directionUpClass||void 0,changeDirectionDownClass:this._directionDownClass||void 0,changeDirectionNeutralClass:this._directionNeutralClass||void 0,lastGrowingClass:this._lastGrowingClass||void 0,lastFallingClass:this._lastFallingClass||void 0,initedHook:()=>{this._hasData.setValue(!0)},noSuchSymbolHook:()=>{this._hasData.setValue(!1)},permissionDeniedHook:()=>{this._hasData.setValue(!1),e()}};t=new X.QuoteTicker(o,this.$el.get(0),n),this.$el.data("quote-ticker",t),i(t)})).catch((t=>{this._hasData.setValue(!1),e(),o(t)}))}))}_setSymbolLink(t){const e=t.short_name,s=t.exchange,i=t.pro_name,o=t.type;if(!(e&&s&&i&&o))return;const n=this.$el[0].getElementsByClassName("js-symbol-link")[0],a=this._largeChartUrl&&this._isEmbedWidget,r={shortName:e,exchange:s,proName:i,type:o};n.href=a?(0,q.makeTemplateSymbolUrl)(this._largeChartUrl,r):(0,q.makeSymbolPageUrl)(r,this._utmInfo),this._setSymbolLinkCompleted=!0}_stopQuoteTicker(){const t=this.$el.data("quote-ticker");t&&t.disable()}}var dt=s(120780),gt=s(913345);const ut=s(594666),pt=s(770812),mt={},ft=new Map([["uae",()=>s(777754).t(null,void 0,s(975308))]]);for(const t of pt){const e=ut[t];if(e.screenerName){const s=ft.has(e.screenerName)?ft.get(e.screenerName):()=>(0,gt.triesTranslateCountrieName)(e.title);mt[e.screenerName]={flag:e.flag||t,get title(){return s()},stocks:e.exchangesStocks||[],timezone:e.screenerTimezone,group:e.group,country:t}}}const bt={forex:"forex",cfd:"cfd",crypto:"crypto"};for(const t of pt){const e=ut[t];e.screenerName&&(bt[e.tvLocale||t]=e.screenerName)}const _t=s(161379),wt={forex:{icon:`<span class="tv-screener-market-select__item-forex">${s(890756)}</span>`,get title(){return s(777754).t(null,void 0,s(324241))},stocks:[]}},vt={crypto:{icon:`<span class="tv-screener-market-select__item-bitcoin">${_t}</span>`,
get title(){return s(777754).t(null,void 0,s(637909))},stocks:[]}};var yt=s(876332);const Ct=JSON.parse('{"US":"stocks-usa","ADX":"stocks-uae","AMEX":"stocks-usa","ATHEX":"stocks-greece","EURONEXT_BRU":"stocks-belgium","ASX":"stocks-australia","BAHRAIN":"stocks-bahrain","BCBA":"stocks-argentina","BCS":"stocks-chile","BELEX":"stocks-serbia","BET":"stocks-hungary","BER":"stocks-germany","BIST":"stocks-turkey","BME":"stocks-spain","BMFBOVESPA":"stocks-brazilia","BMV":"stocks-mexico","BVMT":"stocks-tunisia","BSE":"stocks-india","BSSE":"stocks-slovakia","BVC":"stocks-colombia","BVL":"stocks-peru","BVB":"stocks-romania","BVCV":"stocks-venezuela","BX":"stocks-switzerland","CSE":"stocks-canada","CSECY":"stocks-cyprus","CSELK":"stocks-sri-lanka","DFM":"stocks-uae","DUS":"stocks-germany","OMXCOP":"stocks-denmark","OMXTSE":"stocks-estonia","OMXHEX":"stocks-finland","EGX":"stocks-egypt","EURONEXT":"stocks-europe","EURONEXT_PAR":"stocks-france","EURONEXT_AMS":"stocks-netherlands","EURONEXT_LIS":"stocks-portugal","FWB":"stocks-germany","GPW":"stocks-poland","HAN":"stocks-germany","HKEX":"stocks-hong-kong","HNX":"stocks-vietnam","HOSE":"stocks-vietnam","IDX":"stocks-indonesia","JSE":"stocks-south-africa","LSE":"stocks-united-kingdom","LSIN":"stocks-united-kingdom","MIL":"stocks-italy","MOEX":"stocks-russia","MYX":"stocks-malaysia","MUN":"stocks-germany","TRADEGATE":"stocks-germany","GETTEX":"stocks-germany","NAG":"stocks-japan","NASDAQ":"stocks-usa","NEO":"stocks-canada","NEWCONNECT":"stocks-poland","NGM":"stocks-sweden","NSE":"stocks-india","NSENG":"stocks-nigeria","NSEKE":"stocks-kenya","NYSE":"stocks-usa","NZX":"stocks-new-zealand","KRX":"stocks-korea","KSE":"stocks-kuwait","OTC":"stocks-usa","OMXICE":"stocks-iceland","OMXRSE":"stocks-latvia","OMXSTO":"stocks-sweden","OMXVSE":"stocks-lithuania","LUXSE":"stocks-luxembourg","OSL":"stocks-norway","PSE":"stocks-philippines","QSE":"stocks-qatar","SGX":"stocks-singapore","SIX":"stocks-switzerland","SWB":"stocks-germany","SZSE":"stocks-china","SSE":"stocks-china","SET":"stocks-thailand","TADAWUL":"stocks-ksa","TASE":"stocks-israel","TPEX":"stocks-taiwan","TSE":"stocks-japan","TSX":"stocks-canada","TSXV":"stocks-canada","TWSE":"stocks-taiwan","UPCOM":"stocks-vietnam","XETR":"stocks-germany"}'),kt=s(201089).getLogger("HotLists.Manager"),St="US",Et=s(594666),Lt={};for(const[t,e]of Object.entries(Et)){const s=e.exchangesForHotlist||e.exchangesStocks;if(s)for(const e of s)Lt[e]=t}var Tt=s(823127),Ot=s(213398);const Mt=(0,tt.getLogger)("HotLists.Widget"),$t=new class{constructor(){this.metainfoUrl=window.HOTLISTS_URL+"metainfo/",this.hotlistUrl=window.HOTLISTS_URL+"hotlist/"}get _emptyFlagId(){return"mock"}get sortOptions(){return{percent_change_loosers:{rule:"increase",field:"change_percent"},percent_change_gainers:{rule:"decrease",field:"change_percent"}}}get groupsTitlesMap(){return{volume_gainers:v.t(null,void 0,s(178025)),percent_change_gainers:v.t(null,void 0,s(329801)),percent_change_loosers:v.t(null,void 0,s(212669)),percent_range_gainers:v.t(null,void 0,s(235653)),
percent_range_loosers:v.t(null,void 0,s(931339)),gap_gainers:v.t(null,void 0,s(918612)),gap_loosers:v.t(null,void 0,s(577436)),percent_gap_gainers:v.t(null,void 0,s(829181)),percent_gap_loosers:v.t(null,void 0,s(552004))}}get compilations(){return{US:v.t(null,void 0,s(188405))}}get availableExchanges(){if(!this._availableExchanges){const t=Object.keys(Lt);this._availableExchanges=this.sortExchanges(t)}return this._availableExchanges}sortExchanges(t){return t.sort(((t,e)=>"US"===t&&"US"!==e?-1:"US"!==t&&"US"===e||"AMEX"===t&&"NYSE"===e?1:"NYSE"===t&&"AMEX"===e||"us"===this.getExchangeFlag(t)&&"us"!==this.getExchangeFlag(e)?-1:"us"!==this.getExchangeFlag(t)&&"us"===this.getExchangeFlag(e)?1:this.getExchangeFullName(t).localeCompare(this.getExchangeFullName(e))))}isExchangeDistributed(t){return Boolean(Lt[t])}getOneHotlist(t,e,s){const i=(0,dt.fetch)(`${this.hotlistUrl}${t}/${e}/`).then((t=>t.json())).then((t=>{let i=t.symbols;return s&&(i=t.symbols.slice(0,s)),this.sortOptions[e]?this.sortSymbolsByPercentChange(i,this.sortOptions[e].rule):i}));return i.catch((t=>{kt.logError(`Error while recieving hotlist: ${t}`)})),i}sortSymbolsByPercentChange(t,e){let s,i=!1;const o=new Promise(((e,o)=>{s=setTimeout((()=>{i=!0,e(t)}),2e3)})),n=t.map((t=>new Promise(((e,s)=>{const o=(0,yt.getQuoteSessionInstance)("simple"),n=s=>{const a=s&&s.values&&s.values.change_percent;a&&(t.chp=s.values.change_percent),(a||i)&&(o.unsubscribe("hotlists-manager",t.s,n),e(t))};o.subscribe("hotlists-manager",t.s,n)})))),a=Promise.all(n);return Promise.race([o,a]).then((t=>(i||(clearTimeout(s),t.sort(((t,s)=>"decrease"===e?s.chp-t.chp:"increase"===e?t.chp-s.chp:0))),t)))}getExchangeName(t){const e={AMEX:"NYSE ARCA",EURONEXT_BRU:"EURONEXTBRU",EURONEXT_PAR:"EURONEXTPAR",EURONEXT_AMS:"EURONEXTAMS",EURONEXT_LIS:"EURONEXTLIS",BCBA:"BYMA",OSL:"EURONEXTOSE"}[t]||t;return this.compilations[t]?this.compilations[t]:e}getExchangeFullName(t){const e=this.getExchangeName(t);return`${this.getExchangeCountryName(e)} (${e})`}getExchangeFlag(t){return Lt[t]||this._emptyFlagId}getExchangeCountryName(t){const e="stock"===(s="stock")?mt:"forex"===s?wt:"crypto"===s?vt:mt;var s;if("US Exchanges"===t)return e.america.title;for(const s in e)if(e[s].stocks.includes(t))return e[s].title;return""}getExchangeStockMarket(t){return Ct[t]||Ct.US}getStockMarketUrl(t,e=""){let s=`/markets/${this.getExchangeStockMarket(t)}/${e}`;return e&&(s+="/"),s}isFlagEmpty(t){return t===this._emptyFlagId}},xt={volume_gainers:{title:v.t(null,void 0,s(599045)),href:"market-movers-active"},percent_change_gainers:{title:v.t(null,void 0,s(356751)),href:"market-movers-gainers"},percent_change_loosers:{title:v.t(null,void 0,s(600723)),href:"market-movers-losers"}};const Nt=Object.assign({},window.initData.widget_defaults);Nt.whitelabel=Boolean(window.initData.widgetDefaults.whitelabel);const Ft=(0,c.parseUrlHashParams)(),Pt=Nt;"showChart"in Ft&&(Pt.show_chart=Ft.showChart),Pt.customer=window.TradingView.widgetCustomer,
("whitelabel"in Ft||"whitelabel"in Nt)&&(Pt.whitelabel=Boolean(Ft.whitelabel||Nt.whitelabel)),"showSymbolLogo"in Ft&&(Pt.showSymbolLogo=Boolean(Ft.showSymbolLogo)),"showFloatingTooltip"in Ft&&(Pt.showFloatingTooltip=Boolean(Ft.showFloatingTooltip)),Pt.dateRange=(0,b.getActualTimeFrame)(Ft.dateRange||window.initData.widgetDefaults.dateRange),Pt.exchange=Ft.exchange||Nt.exchange;const Bt=window.locale||Nt.locale||"en";Pt.locale=Bt;const jt=window.locale_domains[Bt]?window.locale_domains[Bt]:window.locale_domains.en;Pt.tradingviewBaseUrl=jt?document.location.protocol+"//"+jt:"",Pt.largeChartUrl=Ft.largeChartUrl;const Wt=Ft.isTransparent;Pt.show_chart&&(Object.assign(Pt,(0,u.pickFields)(Ft,["plotLineColorGrowing","plotLineColorFalling","gridLineColor","scaleFontColor","belowLineFillColorGrowing","belowLineFillColorFalling","belowLineFillColorGrowingBottom","belowLineFillColorFallingBottom","symbolActiveColor"])),void 0===Pt.belowLineFillColorFallingBottom&&Pt.belowLineFillColorFalling&&(Pt.belowLineFillColorFallingBottom=Pt.belowLineFillColorFalling),void 0===Pt.belowLineFillColorGrowingBottom&&Pt.belowLineFillColorGrowing&&(Pt.belowLineFillColorGrowingBottom=Pt.belowLineFillColorGrowing)),Object.assign(Pt,(0,u.pickFields)(Ft,["symbolShortNameColor","symbolDescriptionColor","tickerColorGrowing","tickerColorFalling","symbolSeparatorColor","colorTheme"]));const At=(0,g.filterUtmInfo)(Ft),Dt=(0,i.ensureNotNull)(document.querySelector("#widget-hotlists-container"));Wt&&(Dt.style.backgroundColor="transparent"),(0,d.createEmbedWidgetWrapper)(Dt,At,{isWhiteLabel:Pt.whitelabel,locale:Bt,customer:Pt.customer}),Dt.classList.add("tv-site-widget"),Dt.classList.add("tv-site-widget--bg_none"),Dt.innerHTML='<div class="tv-widget-watch-list__head-embed js-widget-head">\n\t\t<div class="tv-site-widget__tabs\n\t\t\ttv-widget-watch-list__tabs\n\t\t\tjs-tabs\n\t\t"></div>\n\t</div>\n\t<div class="tv-widget-watch-list__body-embed js-widget-body">\n\t\t<div class="js-pages"></div>\n\t</div>',Object.assign(Pt,{utmInfo:At}),Pt.onActivePageLoaded=t=>{t||(0,p.dispatchEventToParent)(m.IFrameEvents.Names.NoData,f.frameElementId,void 0)},new class extends class{constructor(t,e={}){this._stopPageTimeouts={},this._activePageLoadedPromise=null,this._destroyTabLabels=null,t||(at.logError("`el` is required"),(0,i.assert)(Boolean(t),"`el` is required")),this.$el=ot(t),this.settings=this._prepareSettings(e),this._activePageLoadedPromise=null,this.tabsLabels=this.settings.tabs.map((t=>t.title||t.title_raw));const s=(0,u.pickFields)(this.settings,rt);this.widgetColorClassMap=function(t){const e=(0,z.randomHashN)(4);return t.reduce(((t,s)=>{const i=s.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`));return t[s]=`${i}--${e}`,t}),{})}(Object.keys(s)),t.appendChild(function(t,e,s){const i=(t,e)=>`.${t}, .${t}:hover, .${t}:active { color: ${e} }`,o={symbolActiveColor:(t,e)=>`.${t} { background: ${e} }`,symbolSeparatorColor:(t,e)=>`.${t}:after { background: ${e} }`,tabSliderColor:(t,e)=>`.${t} { background: ${e} }`},n=document.createElement("style"),a=[]
;for(const n of t){const t=s[n],r=e[n];if(!t||!r||null===(0,W.tryParseRgb)(r))continue;const l=o[n];a.push(l?l(t,r):i(t,r))}return n.textContent=a.join(" "),n}(rt,s,this.widgetColorClassMap)),this.settings.isEmbedWidget||"hotlists"===this.widgetName?(1===this.settings.tabs.length&&this.$el.find(".js-widget-head").addClass("i-hidden"),this.renderContent().then((()=>{this._initPages(),this.setAutoUpdate()}),(t=>{console.log("WidgetWatchlist constructor error",t)}))):this._initPages()}setAutoUpdate(){}get widgetName(){return"marketoverview"}get settingsKey(){return"watchlist__summary.properties"}get userSettings(){return{}}get templates(){return{tab:'\n\t\t\t\t<div class="tv-widget-watch-list__blank-tab js-widget-tab" data-content="{{ title_raw }}">{{ title }}\n\t\t\t\t</div>',tabContent:`\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t\t{{#showChart}}\n\t\t\t\t\t\t<div class="js-chart tv-widget-watch-list__chart"></div>\n\t\t\t\t\t\t<div class="js-timeframes tv-widget-watch-list__timeframe"></div>\n\t\t\t\t\t{{/showChart}}\n\t\t\t\t\t<div class="{{#isEmbedWidget}}tv-widget-watch-list__symbols-wrapper {{/isEmbedWidget}}js-symbols-wrapper"\n\t\t\t\t\t\t {{#minTableHeight}} style="min-height: {{ minTableHeight }}" {{/minTableHeight}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="tv-site-table tv-widget-watch-list__table\n\t\t\t\t\t\t\t{{#isEmbedWidget}} tv-site-table--start-border {{/isEmbedWidget}}\n\t\t\t\t\t\t\t{{^showChart}} tv-site-table--no-start-border {{/showChart}}\n\t\t\t\t\t\t\t{{#forceEndBorder}} tv-site-table--with-end-border {{/forceEndBorder}}\n\t\t\t\t\t\t\t js-symbols-body">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{^isEmbedWidget}}\n\t\t\t\t\t\t{{#quickLink}}\n\t\t\t\t\t\t\t<div class="js-quick-link-wrapper tv-feed-widget__quick-link-wrap tv-feed-widget__padded">\n\t\t\t\t\t\t\t\t<a class="tv-feed-widget__quick-link" href="{{ quickLink.href }}">{{ quickLink.title }}${s(108999)}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/quickLink}}\n\t\t\t\t\t{{/isEmbedWidget}}\n\t\t\t\t</div>`,tabContentSkin:'\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t</div>'}}renderContent(){const t=this.settings.tabs.map((t=>{const e=ot(nt.render(this.templates.tabContent,{showChart:this.settings.show_chart,isEmbedWidget:this.settings.isEmbedWidget,group:t.group,firstTab:t===this.settings.tabs[0],forceEndBorder:this.settings.force_end_border},this.templates));return e.data("symbols",t.symbols.map((t=>Object({s:t.s,d:t.d,t:t.t})))),this.$el.find(".js-pages").append(e),!0}));return new Promise((e=>{Promise.all(t).then(e)}))}saveToTVSettings(t){const e=window.locale;let s=(0,Z.getJSON)(this.settingsKey);s||(s={}),s[e]=t,(0,Z.setJSON)(this.settingsKey,s)}destroy(){
this.$pagesContainer&&(this.$pagesContainer.children().each(((t,e)=>{this._stopPage(ot(e))})),this._destroyTabLabels&&this._destroyTabLabels())}resetCaches(){this.$pagesContainer&&this.$pagesContainer.children().each(((t,e)=>{const s=ot(e);this._getCachedWidgetPage(s)&&this._cacheWidgetPage(s,this._createWidgetWatchlistPage(s))}))}adjustToAvailableSizes(){this.$pagesContainer.children().each(((t,e)=>{if(!e.classList.contains("i-hidden")){const t=this._getCachedWidgetPage(ot(e));null==t||t.adjustToAvailableSizes()}}))}_startPage(t){let e=this._getCachedWidgetPage(t);if(e?(this._deleteStopTimeout(t),e.start()):(e=this._createWidgetWatchlistPage(t),this._cacheWidgetPage(t,e)),"function"==typeof this.settings.onActivePageLoaded){const t=this._activePageLoadedPromise=e.hasData().then((e=>{t===this._activePageLoadedPromise&&this.settings.onActivePageLoaded&&this.settings.onActivePageLoaded(e)}))}}_getCachedWidgetPage(t){return t.data("watchlist-widget-page")}_initPages(){const t=this.$el.find(".js-tabs").eq(0),e=this.$el.find(".js-pages").eq(0),s=1===e.children().length;this.settings.fixedChartHeight&&(this._normalizeSymbolListHeight(),setTimeout((()=>this._adjustSymbolsListHeight()),0)),s?this._startPage(e.children().eq(0)):(this._initTabs(t,e),!this.settings.fixedChartHeight&&this.settings.adjust_widget_height&&e.find(".js-chart").length&&this._adjustChartHeight(e,this.settings.adjust_widget_height)),this.$pagesContainer=e}_getPagesArray(t){return t?Array.prototype.slice.call(t.children):[]}_prepareSettings(t){let e;const s=this.$el.data("widget-data");if(s)if(s.is_embed_widget)e=Object.assign({},s,t);else{const i=this.userSettings;(!1===s.hotlists_select_enabled||s.override_user_exchange)&&delete i.exchange,e=Object.assign({},s,t,i)}else this.$el.data("widget-data",t),e=t;return void 0!==e.is_embed_widget&&(e.isEmbedWidget=e.is_embed_widget),e.is_embed_widget=void 0,e}_initTabs(t,e){const s=this._getPagesArray(e.get(0));(0,et.createTabLabels)("watchlist-widget-tab-labels",this.tabsLabels,t.get(0),s,this._onActivePageChanged.bind(this)).then((t=>this._destroyTabLabels=t)),this._startPage(ot((0,i.ensureNotNull)(this._getActivePage(s))))}_adjustChartHeight(t,e){const s=t.children(),o=document.querySelector(".js-quote-ticker"),n=document.querySelector(".js-chart");if(o&&n){const t=o.offsetHeight,a=n.offsetHeight;for(let o=0;o<s.length;o++){let n=e-s[o].querySelectorAll(".js-quote-ticker").length;if(n===e&&(n=1),n<e){const e=s[o].querySelector(".js-chart");(0,i.ensureNotNull)(e).style.height=`${a+t*n}px`}}}}_normalizeSymbolListHeight(){const t=(0,i.ensureNotNull)(this.$el[0].firstElementChild),e=t.querySelector(".js-pages");if(!e)return;let s=0;if(e){let i=0;for(let t=0;t<e.children.length;t++){const o=e.children[t];if(i=Math.max(o.querySelectorAll(".js-quote-ticker").length,i),!o.classList.contains("i-hidden")){const t=o.querySelector(".js-quote-ticker");t&&(s=t.offsetHeight)}}const o=t.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<o.length;t++){o[t].style.minHeight=s*i+"px"}}}_adjustSymbolsListHeight(){
const t=this.$el[0].firstElementChild,e=getComputedStyle(t),s=t.offsetHeight-parseInt(e.paddingTop)-parseInt(e.paddingBottom),i=t.querySelector(".js-widget-head");let o=0;if(i){const t=getComputedStyle(i);o=i.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const n=t.querySelector(".js-pages");if(!n)return;let a=0,r=0,l=0;for(let t=0;t<n.children.length;t++){const e=n.children[t];if(!e.classList.contains("i-hidden")){const t=e.querySelector(".js-chart");t&&(a=t.offsetHeight);const s=e.querySelector(".js-timeframes");if(s){const t=getComputedStyle(s);r=s.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const i=e.querySelector(".js-quick-link-wrapper");i&&(l=i.offsetHeight);break}}const h=s-o-(a+r+l),c=n.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<c.length;t++){c[t].style.minHeight=`${h}px`}}_createWidgetWatchlistPage(t){return new ht(t,{chartColorMap:(0,u.pickFields)(this.settings,lt),dateRange:this.settings.dateRange||J.timeFrames["12m"].value.value,dateRangeOptions:this.settings.dateRangeOptions,disableLastFallingFlash:this.settings.disableLastFallingFlash,disableLastGrowingFlash:this.settings.disableLastGrowingFlash,hideAbsoluteChange:this.settings.hideAbsoluteChange,indexNameBold:this.settings.indexNameBold,indexNonClickable:this.settings.indexNonClickable,isEmbedWidget:this.settings.isEmbedWidget,largeChartUrl:this.settings.largeChartUrl,noLinks:this.settings.noLinks,onlyDescription:this.settings.onlyDescription,paintLastWithChangeColors:this.settings.paintLastWithChangeColors,showDataMode:this.settings.showDataMode,showMarketStatus:this.settings.showMarketStatus,showTitles:this.settings.showTitles,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,utmInfo:this.settings.utmInfo,valueBold:this.settings.valueBold,valueTitleMarked:this.settings.valueTitleMarked,widgetColorClassMap:this.widgetColorClassMap,widgetName:this.widgetName,showSymbolLogo:this.settings.showSymbolLogo,locale:this.settings.locale,showFloatingTooltip:this.settings.showFloatingTooltip,colorTheme:this.settings.colorTheme})}_stopPage(t,e){const s=this._getCachedWidgetPage(t);s&&(e?this._setStopTimeout(t):s.stop())}_onActivePageChanged(t,e){e.forEach(((e,s)=>{if(t===s){if(this._startPage(ot(e)),this.settings.isEmbedWidget){const t=this._getCachedWidgetPage(ot(e));null==t||t.adjustToAvailableSizes()}}else this._stopPage(ot(e))}))}_getActivePage(t){for(const e of t)if(!e.classList.contains("i-hidden"))return e;return null}_cacheWidgetPage(t,e){t.data("watchlist-widget-page",e)}_setStopTimeout(t){this._stopPageTimeouts[t.index()]=setTimeout(this._stopPage.bind(this,t))}_deleteStopTimeout(t){const e=this._stopPageTimeouts[t.index()];e&&(clearTimeout(e),delete this._stopPageTimeouts[t.index()])}}{constructor(t,e={}){super(t,e),this.updateInterval=6e4,this.updateIntervalId=null,this.listLimit=this.settings.symbol_limit||5,this.settings.isEmbedWidget||this.initHotlistsDropdown(),this.updateInterval=6e4,this.tabsLabels=this.settings.tabs.map((t=>this.groupsTitlesMap[t.group]||t.title_raw))}get widgetName(){return"hotlists"}
get settingsKey(){return"watchlist__hot.properties"}get userSettings(){const t=(0,Z.getJSON)(this.settingsKey);let e;return t&&t[window.locale]&&(e=t[window.locale]),e?{exchange:e}:{}}get groupsTitlesMap(){return{volume_gainers:v.t(null,void 0,s(998795)),percent_change_gainers:v.t(null,void 0,s(738141)),percent_change_loosers:v.t(null,void 0,s(694583))}}renderContent(){if(this.settings.isEmbedWidget){if((0,B.getEmbedDeprecatedExchanges)(this.settings.customer).includes(this.settings.exchange))return this.stopRenderWithMessage(v.t(null,void 0,s(808251))),Promise.reject()}$t.isExchangeDistributed(this.settings.exchange)||(this.settings.exchange=St,Mt.logWarn(`${this.settings.exchange} is not available, default exchange was used: ${St}`));const t=this.$el.find(".js-widget-title-link")[0];t&&(t.href=$t.getStockMarketUrl(this.settings.exchange,"market-movers-large-cap")),this._updateTabQuickLinks();const e=[],i=this.groupsTitlesMap;return this.settings.tabs.forEach((t=>{t.title=i[t.group]||t.title_raw;let s=this._getTabEl(t.group);const o=s.find(".js-symbols-wrapper").css("min-height");if(!s.length){const e=Tt(Ot.render(this.templates.tabContentSkin,{group:t.group,firstTab:t===this.settings.tabs[0],hotlistsSelectEnabled:this.settings.hotlists_select_enabled}));this.$el.find(".js-pages").append(e),s=this._getTabEl(t.group)}const n=Tt(Ot.render(this.templates.tabContent,{showChart:this.settings.show_chart,isEmbedWidget:this.settings.isEmbedWidget,group:t.group,firstTab:t===this.settings.tabs[0],hotlistsSelectEnabled:this.settings.hotlists_select_enabled,quickLink:t.quick_link,forceEndBorder:this.settings.force_end_border,minTableHeight:"0px"!==o&&o,showFloatingTooltip:this.settings.showFloatingTooltip}));s.html(n.html()),this._getCachedWidgetPage(s)&&e.push(this._setSymbolsToPageData(t.group,s))})),new Promise((t=>{Promise.all(e).then(t)}))}stopRenderWithMessage(t){if(this.$el.find(".js-widget-head").addClass("i-align_center").text(t).end().css("height","auto"),this.$el.find(".js-widget-body").remove(),window.frameElement){const t=document.querySelector(".js-embed-widget-head"),e=document.querySelector(".js-embed-widget-body"),s=t?t.offsetHeight:0,i=e?e.offsetHeight:this.$el.outerHeight(),o=window.frameElement;o.height=(s+i+parseInt(o.style.paddingBottom)).toString(),o.parentElement&&(o.parentElement.style.height="auto")}}initHotlistsDropdown(){const t=[];let e=0;$t.availableExchanges.forEach((e=>{t.push({key:e,title:$t.getExchangeFullName(e),flagId:$t.getExchangeFlag(e),flagTitle:e})})),t.some(((t,s)=>t.key===this.settings.exchange&&(e=s,!0))),this.addExchangeSelect(t,e)}addExchangeSelect(t,e){const s={options:t,initialSelected:e,onSelect:this.onExchangeChange.bind(this),disabled:!this.settings.hotlists_select_enabled,maxHeight:535,maxColumns:3,itemWidth:230,itemHeight:38,horizontalAttachment:"top",flagSize:"block-title"},i=_.createElement(P,s),o=document.createElement("span");o.classList.add("tv-feed-widget__title-inline-select-wrapper"),this.$el.find(".js-hotlists-dropdown").prepend(o),w.render(i,o)}onExchangeChange(t){
const e=t.key;this.destroy(),this.settings.exchange=e,null!==this.updateIntervalId&&(clearInterval(this.updateIntervalId),this.updateIntervalId=null),this.renderContent().then((()=>{this.resetCaches(),this._initPages(),this.setAutoUpdate()})),this.saveToTVSettings(e)}setAutoUpdate(){const t=this.$el.find(".js-pages").eq(0),e=this._getPagesArray(t.get(0));this.updateIntervalId=setInterval((()=>{e.forEach((t=>{const e=Tt(t),s=this._getCachedWidgetPage(e);s&&this._setSymbolsToPageData(e.data("tab-group"),e).then((t=>{s.symbols=t}))}))}),this.updateInterval)}_startPage(t){if(t.find(".js-symbols-wrapper").css("min-height",60*this.listLimit+"px"),t.data("symbols"))super._startPage(t);else{const e=t.data("tabGroup");this._setSymbolsToPageData(e,t).then((()=>{super._startPage(t)}))}}_getTabEl(t){return this.$el.find(".js-pages").find(`[data-tab-group="${t}"]`)}_setSymbolsToPageData(t,e){return new Promise((s=>{$t.getOneHotlist(this.settings.exchange,t,this.listLimit).then((i=>{(e=e||this._getTabEl(t)).data("symbols",i.map((t=>Object({s:t.s})))),s(i)}))}))}_updateTabQuickLinks(){this.settings.tabs.forEach((t=>{const e=t.group;t.quick_link||(t.quick_link={title:xt[e].title}),t.quick_link.href=$t.getStockMarketUrl(this.settings.exchange,xt[e].href)}))}}(Dt,Pt)},764005:(t,e,s)=>{"use strict";s.d(e,{doAnimate:()=>n});const i={from:0,duration:250,easing:s(81979).easingFunc.easeOutCubic};class o{constructor(t){this._doing=!0,this._completed=!1,this._options={...i,...t};const e=performance.now();window.requestAnimationFrame((t=>{this._animation(e,this._options.from,t)}))}stop(){this._doing=!1}completed(){return this._completed}_animation(t,e,s){if(!this._doing)return void this._finishAnimation();const i=(s=!s||s<1e12?performance.now():s)-t,o=i>=this._options.duration||e===this._options.to,n=(a=this._options.from,r=this._options.to,l=this._options.easing(i/this._options.duration),a*(1-l)+r*l);var a,r,l;const h=o?this._options.to:n,c=h-e;this._options.onStep(c,h),o?this._finishAnimation():window.requestAnimationFrame((e=>{this._animation(t,h,e)}))}_finishAnimation(){this._options.onComplete&&this._options.onComplete(),this._completed=!0}}function n(t){return new o(t)}},81979:(t,e,s)=>{"use strict";s.d(e,{color:()=>i.color,dur:()=>i.dur,easingFunc:()=>i.easingFunc});var i=s(745269)},100578:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'}},t=>{t.O(0,[83578,29610,75836,84838,4015,21391,89842,30006,92483,33371,39855,50293,37124,67103,72104,46987,8545,83966,4912,35103,5987,67803,50690,22854,38348,23127,83701,82533,696,44537,69403,51683,36179,90726,19881,60023,79682,4288],(()=>{return e=395254,t(t.s=e);var e}));t.O()}]);